{"ast":null,"code":"var _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleCategoryPage.js\";\nimport React, { Component } from 'react';\nimport { WithAuthConsumer } from '../context/AuthContext';\nimport ToyslandService from '../../services/ToyslandService';\nimport SingleCategoryCard from './SingleCategoryCard';\n\nclass SingleCategory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [] // Pinto un array de productos vacío\n\n    };\n\n    this.findProducts = () => {\n      ToyslandService.getAll().then(products => {\n        // Cojo TODOS los productos\n        this.setState({\n          products: products.find(product => product.category === this.props.match.params.category)\n        }); // Productos: coge los productos de la categoría que machean con la categoría de la url\n\n        console.log(this.state.products);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.findProducts();\n  }\n\n  render() {\n    // Aquí hago un map con this.state.products\n    console.log(this.state.products.length);\n    return React.createElement(\"div\", {\n      className: \"CategoryContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, this.state.products.length && this.state.products.map((products, index) => React.createElement(SingleCategoryCard, Object.assign({}, products, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default WithAuthConsumer(SingleCategory);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleCategoryPage.js"],"names":["React","Component","WithAuthConsumer","ToyslandService","SingleCategoryCard","SingleCategory","state","products","findProducts","getAll","then","setState","find","product","category","props","match","params","console","log","componentDidMount","render","length","map","index"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAIA,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCK,KAFmC,GAE5B;AACHC,MAAAA,QAAQ,EAAC,EADN,CACS;;AADT,KAF4B;;AAAA,SAMnCC,YANmC,GAMpB,MAAM;AACjBL,MAAAA,eAAe,CAACM,MAAhB,GAAyBC,IAAzB,CAA8BH,QAAQ,IAAI;AAAE;AACxC,aAAKI,QAAL,CAAc;AAACJ,UAAAA,QAAQ,EAAEA,QAAQ,CAACK,IAAT,CAAcC,OAAO,IAAIA,OAAO,CAACC,QAAR,KAAqB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAtE;AAAX,SAAd,EADsC,CACqE;;AAC3GI,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,QAAvB;AACH,OAHD;AAIH,KAXkC;AAAA;;AAanCa,EAAAA,iBAAiB,GAAG;AAChB,SAAKZ,YAAL;AACH;;AAIDa,EAAAA,MAAM,GAAG;AAAE;AACPH,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,QAAX,CAAoBe,MAAhC;AACA,WACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEa,KAAKhB,KAAL,CAAWC,QAAX,CAAoBe,MAApB,IAA8B,KAAKhB,KAAL,CAAWC,QAAX,CAAoBgB,GAApB,CAAwB,CAAChB,QAAD,EAAWiB,KAAX,KACnD,oBAAC,kBAAD,oBAAwBjB,QAAxB;AAAkC,MAAA,GAAG,EAAGiB,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAD2B,CAF3C,CADJ;AAQH;;AA7BkC;;AAiCvC,eAAetB,gBAAgB,CAAEG,cAAF,CAA/B","sourcesContent":["import React, {Component} from 'react'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport ToyslandService from '../../services/ToyslandService'\nimport SingleCategoryCard from './SingleCategoryCard'\n\n\n\nclass SingleCategory extends Component {\n\n    state= {\n        products:[] // Pinto un array de productos vacío\n    }\n\n    findProducts = () => {\n        ToyslandService.getAll().then(products => { // Cojo TODOS los productos\n            this.setState({products: products.find(product => product.category === this.props.match.params.category)}) // Productos: coge los productos de la categoría que machean con la categoría de la url\n            console.log(this.state.products)            \n        })\n    }\n\n    componentDidMount() {\n        this.findProducts()\n    }\n\n\n\n    render() { // Aquí hago un map con this.state.products\n        console.log(this.state.products.length)\n        return(\n            <div className=\"CategoryContainer\">\n\n                        {this.state.products.length && this.state.products.map((products, index) => (\n                            <SingleCategoryCard {...products} key= {index} />\n                        ))}             \n            </div>\n        )\n    }\n        \n}\n\nexport default WithAuthConsumer (SingleCategory)"]},"metadata":{},"sourceType":"module"}