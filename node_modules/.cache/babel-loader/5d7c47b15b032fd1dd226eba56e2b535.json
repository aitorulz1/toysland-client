{"ast":null,"code":"import _objectSpread from \"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/EditProduct.js\";\nimport React, { Component } from 'react';\nimport { WithAuthConsumer } from '../context/AuthContext';\nimport ToyslandService from '../../services/ToyslandService';\nimport { Redirect } from 'react-router-dom';\nimport Lateral from '../misc/Lateral';\n\nclass EditProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        category: this.props.currentUser.product.category,\n        name: this.props.currentUser.product.name,\n        price: this.props.currentUser.product.price,\n        description: this.props.currentUser.product.description,\n        productPicture: this.props.currentUser.product.productPicture\n      },\n      success: false\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value,\n            files = _event$target.files;\n      this.setState({\n        data: _objectSpread({}, this.state.data, {\n          [name]: files ? files[0] : value\n        })\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const formData = new FormData();\n      formData.append('category', this.state.data.category);\n      formData.append('name', this.state.data.name);\n      formData.append('price', this.state.data.price);\n      formData.append('description', this.state.data.descriptionory);\n      formData.append('productPicture', this.state.data.productPicture);\n      this.setState({\n        loading: true,\n        error: false\n      }, () => {\n        ToyslandService.editProduct(formData, this.props.currentUser.product.id).then(user => {\n          this.props.setUser(user);\n          this.setState({\n            success: true\n          });\n        }).catch(() => {\n          this.setState({\n            error: true,\n            loading: false\n          });\n        });\n      });\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    if (this.state.success) {\n      return React.createElement(Redirect, {\n        to: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"EditContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LateralDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Lateral, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"EditContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"TuPerfilContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Tu perfil\"), React.createElement(\"p\", {\n      className: \"subtit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Aqu\\xED podr\\xE1s ver y editar los datos de tu perfil\")), React.createElement(\"div\", {\n      className: \"Edit-Image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Imagen de perfil\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Imagen Principal\"), React.createElement(\"div\", {\n      className: \"ProfileImageContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.currentUser.product.productPicture,\n      alt: \"my prfile pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"avatar\",\n      type: \"file\",\n      className: \"form-group\",\n      id: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-toysland\",\n      disabled: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Guardar Cambios\")))), React.createElement(\"div\", {\n      className: \"Edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Mi Info\"), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"input\", {\n      value: this.state.data.name,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"name\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      placeholder: \"Nombre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      value: this.state.data.username,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"username\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"username\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      value: this.state.data.email,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"email\",\n      type: \"email\",\n      className: \"form-control\",\n      id: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"cp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"cp\"), React.createElement(\"input\", {\n      value: this.state.data.cp,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"cp\",\n      type: \"cp\",\n      className: \"form-control\",\n      id: \"cp\",\n      placeholder: \"cp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"city\"), React.createElement(\"input\", {\n      value: this.state.data.city,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"city\",\n      type: \"city\",\n      className: \"form-control\",\n      id: \"city\",\n      placeholder: \"city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"country\"), React.createElement(\"input\", {\n      value: this.state.data.country,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"country\",\n      type: \"country\",\n      className: \"form-control\",\n      id: \"country\",\n      placeholder: \"country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-toysland\",\n      disabled: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Guardar Cambios\"))))), React.createElement(\"div\", {\n      className: \"Space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default WithAuthConsumer(EditProduct);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/EditProduct.js"],"names":["React","Component","WithAuthConsumer","ToyslandService","Redirect","Lateral","EditProduct","constructor","props","state","data","category","currentUser","product","name","price","description","productPicture","success","handleChange","event","target","value","files","setState","handleSubmit","preventDefault","formData","FormData","append","descriptionory","loading","error","editProduct","id","then","user","setUser","catch","render","username","email","cp","city","country"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport ToyslandService from '../../services/ToyslandService'\nimport { Redirect } from 'react-router-dom'\nimport Lateral from '../misc/Lateral'\n\nclass EditProduct extends Component {\n        constructor(props) {\n            super(props)\n\n            \n            this.state ={}\n        }\n\n        state = {\n            data: {\n                category: this.props.currentUser.product.category,\n                name: this.props.currentUser.product.name,\n                price: this.props.currentUser.product.price,\n                description: this.props.currentUser.product.description,\n                productPicture: this.props.currentUser.product.productPicture               \n            },\n            success: false\n        }\n\n        handleChange = (event) => {\n            const {name, value, files} = event.target\n            this.setState({\n\n                data: {\n                    ...this.state.data,\n                    [name] : files ? files[0] : value\n                }\n            })\n        }\n\n        handleSubmit = (event) => {\n            event.preventDefault()\n\n            const formData = new FormData()\n                formData.append('category', this.state.data.category)\n                formData.append('name', this.state.data.name)\n                formData.append('price', this.state.data.price)\n                formData.append('description', this.state.data.descriptionory)\n                formData.append('productPicture', this.state.data.productPicture)\n\n            this.setState({loading: true, error: false}, () => {\n                ToyslandService.editProduct(formData, this.props.currentUser.product.id)\n                    .then((user) => {\n                        this.props.setUser(user)\n                        this.setState({success: true})\n                    })\n                    .catch(() => {\n                        this.setState({error: true, loading: false})\n                    })\n            })\n        }\n\n        render() {    \n            if(this.state.success) {\n               \n                return <Redirect to='/profile' />\n            }\n            return (\n                <div className=\"EditContainer\">\n\n                    <div className=\"LateralDiv\">\n                        <Lateral />\n                    </div>\n\n                    <div className='EditContainerContainer'>\n\n<div className=\"TuPerfilContainer\">\n    <p className=\"tit\">Tu perfil</p>\n    <p className=\"subtit\">Aquí podrás ver y editar los datos de tu perfil</p>\n</div>\n\n\n                            {/* IMAGE */}\n\n\n<div className=\"Edit-Image\">\n    <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n\n        \n\n        <div className=\"form-container\">\n\n            <div className=\"form-title\">Imagen de perfil</div>\n\n                <div className='form-group'>\n                    <label htmlFor=\"name\">Imagen Principal</label>\n                    \n                <div className=\"ProfileImageContainer\">\n                    <img src={this.props.currentUser.product.productPicture} alt=\"my prfile pic\" />\n                </div>\n\n                    <input \n                        onChange={this.handleChange}\n                        name='avatar'\n                        type='file'\n                        className='form-group'\n                        id='avatar'\n                    />\n                </div>\n\n                <button\n                    type='submit'\n                    className='btn btn-toysland'\n                    disabled={this.state.loading}\n                >\n                    Guardar Cambios\n                </button>\n        </div>\n\n\n    </form>\n</div>                        \n\n<div className=\"Edit\">\n    <form onSubmit={this.handleSubmit}>\n\n    <div className=\"form-container\">     \n\n        <div className=\"form-title\">Mi Info</div>\n\n                <div className=\"form-group-info\">\n                    <label htmlFor=\"name\">Nombre</label>\n\n                    <input\n                        value={this.state.data.name}\n                        onChange={this.handleChange}\n                        autoComplete=\"off\"\n                        name=\"name\"\n                        type=\"text\"\n                        className='form-control'\n                        id=\"name\"\n                        placeholder=\"Nombre\"\n                    />\n                </div>\n\n                <div className=\"form-group-info\">\n                    <label htmlFor=\"username\">Username</label>\n\n                    <input\n                        value={this.state.data.username}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        name='username'\n                        type='text'\n                        className='form-control'\n                        id='username'\n                        placeholder='Username'                                \n                    />\n\n                </div>\n\n                <div className='form-group-info'>\n                    <label htmlFor='email'>Email</label>\n\n                    <input \n                        value={this.state.data.email}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        name='email'\n                        type='email'\n                        className='form-control'\n                        id='email'\n                        placeholder='Email'\n                    />\n\n                </div>\n\n                <div className='form-group-info'>\n                    <label htmlFor='cp'>cp</label>\n\n                    <input \n                        value={this.state.data.cp}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        name='cp'\n                        type='cp'\n                        className='form-control'\n                        id='cp'\n                        placeholder='cp'\n                    />\n\n                </div>\n\n                <div className='form-group-info'>\n                    <label htmlFor='city'>city</label>\n\n                    <input \n                        value={this.state.data.city}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        name='city'\n                        type='city'\n                        className='form-control'\n                        id='city'\n                        placeholder='city'\n                    />\n\n                </div>\n\n                <div className='form-group-info'>\n                    <label htmlFor='country'>country</label>\n\n                    <input \n                        value={this.state.data.country}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        name='country'\n                        type='country'\n                        className='form-control'\n                        id='country'\n                        placeholder='country'\n                    />\n\n                </div>\n\n                    <button\n                        type='submit'\n                        className='btn btn-toysland'\n                        disabled={this.state.loading}\n                    >\n                        Guardar Cambios\n                    </button>\n\n                    \n                 </div>{/* //Fin de form-container */}\n\n\n\n                    </form>\n                </div>\n            </div>\n        <div className=\"Space\"></div>\n    </div>\n\n            )\n        }\n}\n\nexport default WithAuthConsumer(EditProduct)"]},"metadata":{},"sourceType":"module"}