{"ast":null,"code":"import _objectSpread from \"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/EditProduct.js\";\nimport React, { Component } from 'react';\nimport { WithAuthConsumer } from '../context/AuthContext';\nimport ToyslandService from '../../services/ToyslandService';\nimport { Redirect } from 'react-router-dom';\nimport Lateral from '../misc/Lateral';\n\nclass EditProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value,\n            files = _event$target.files;\n      this.setState({\n        data: _objectSpread({}, this.state.data, {\n          [name]: files ? files[0] : value\n        })\n      }, () => console.log('imagen', this.state.data.productPicture));\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const formData = new FormData();\n      formData.append('category', this.state.data.category);\n      formData.append('name', this.state.data.name);\n      formData.append('price', this.state.data.price);\n      formData.append('description', this.state.data.descriptionory);\n      formData.append('productPicture', this.state.data.productPicture);\n      this.setState({\n        loading: true,\n        error: false\n      }, () => {\n        console.log(formData);\n        ToyslandService.editProduct(formData, this.state.data.id).then(product => {\n          this.props.setUser(_objectSpread({}, this.props.currentUser, {\n            product: [...this.props.currentUser.product.filter(e => e.id !== product.id), product]\n          }));\n          this.setState({\n            success: true\n          });\n        }).catch(() => {\n          this.setState({\n            error: true,\n            loading: false\n          });\n        });\n      });\n    };\n\n    const _product = props.currentUser.product.find(product => product.id === props.match.params.id); // encuentro el producto que tengo en el context\n\n\n    this.state = {\n      currentImage: _product.productPicture,\n      data: {\n        id: _product.id,\n        category: _product.category,\n        name: _product.name,\n        price: _product.price,\n        description: _product.description,\n        productPicture: _product.productPicture\n      },\n      success: false\n    };\n  }\n\n  render() {\n    console.log(this.state.data);\n\n    if (this.state.success) {\n      return React.createElement(Redirect, {\n        to: \"/products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"EditContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LateralDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Lateral, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"EditContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EditContainerContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"TuPerfilContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Tu Producto\"), React.createElement(\"p\", {\n      className: \"subtit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Aqu\\xED podr\\xE1s ver y editar los datos de tu producto\")), React.createElement(\"div\", {\n      className: \"Edit-Image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Imagen de perfil\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Imagen Principal\"), React.createElement(\"div\", {\n      className: \"ProfileImageContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.currentImage,\n      alt: \"my prfile pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"productPicture\",\n      type: \"file\",\n      className: \"form-group\",\n      id: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-toysland\",\n      disabled: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Guardar Cambios\")))), React.createElement(\"div\", {\n      className: \"Edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Mi Producto\"), React.createElement(\"div\", {\n      className: \"form-group-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"input\", {\n      value: this.state.data.name,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"name\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      placeholder: \"Nombre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Precio\"), React.createElement(\"input\", {\n      value: this.state.data.price,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"price\",\n      type: \"number\",\n      className: `form-control ${errorClassName}`,\n      id: \"price\",\n      placeholder: \"Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Descripci\\xF3n\"), React.createElement(\"input\", {\n      value: this.state.data.description,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      name: \"description\",\n      type: \"text\",\n      className: `form-control ${errorClassName}`,\n      id: \"description\",\n      placeholder: \"M\\xE1x 140 caracteres\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-toysland\",\n      disabled: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Guardar Cambios\")))))), React.createElement(\"div\", {\n      className: \"Space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default WithAuthConsumer(EditProduct);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/EditProduct.js"],"names":["React","Component","WithAuthConsumer","ToyslandService","Redirect","Lateral","EditProduct","constructor","props","handleChange","event","target","name","value","files","setState","data","state","console","log","productPicture","handleSubmit","preventDefault","formData","FormData","append","category","price","descriptionory","loading","error","editProduct","id","then","product","setUser","currentUser","filter","e","success","catch","find","match","params","currentImage","description","render","errorClassName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport ToyslandService from '../../services/ToyslandService'\nimport { Redirect } from 'react-router-dom'\nimport Lateral from '../misc/Lateral'\n\nclass EditProduct extends Component {\n\n        constructor(props) {\n            super(props)\n\n            const product = props.currentUser.product.find(product => product.id === props.match.params.id) // encuentro el producto que tengo en el context\n\n            this.state = {\n                currentImage: product.productPicture,\n                data: {\n                    id: product.id,\n                    category: product.category,\n                    name: product.name,\n                    price: product.price,\n                    description: product.description,\n                    productPicture: product.productPicture\n                },\n                success: false\n            }\n        }\n\n\n        handleChange = (event) => {\n            const {name, value, files} = event.target\n            this.setState({\n\n                data: {\n                    ...this.state.data,\n                    [name] : files ? files[0] : value\n                }\n            }, () => console.log('imagen', this.state.data.productPicture))\n        }\n\n        handleSubmit = (event) => {\n            event.preventDefault()\n\n            const formData = new FormData()\n                formData.append('category', this.state.data.category)\n                formData.append('name', this.state.data.name)\n                formData.append('price', this.state.data.price)\n                formData.append('description', this.state.data.descriptionory)\n                formData.append('productPicture', this.state.data.productPicture)\n\n            this.setState({loading: true, error: false}, () => {\n                console.log(formData)\n                ToyslandService.editProduct(formData, this.state.data.id)\n                    .then((product) => {\n\n                        this.props.setUser({\n                            ...this.props.currentUser, \n                            product: [\n                                ...this.props.currentUser.product.filter(e=> e.id !== product.id), \n                                product\n                            ]})\n                        this.setState({success: true})\n                    })\n                    .catch(() => {\n                        this.setState({error: true, loading: false})\n                    })\n            })\n        }\n\n        render() {    \n            console.log(this.state.data)\n            if(this.state.success) {\n               \n                return <Redirect to='/products' />\n            }\n            return (\n                <div className=\"EditContainer\">\n\n                    <div className=\"LateralDiv\">\n                        <Lateral />\n                    </div>\n\n                    <div className='EditContainerContainer'>\n\n                    <div className='EditContainerContainerContainer'>\n\n                            <div className=\"TuPerfilContainer\">\n                                <p className=\"tit\">Tu Producto</p>\n                                <p className=\"subtit\">Aquí podrás ver y editar los datos de tu producto</p>\n                            </div>\n\n\n                                                        {/* IMAGE */}\n\n\n                            <div className=\"Edit-Image\">\n                                <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n\n                                    \n\n                                    <div className=\"form-container\">\n\n                                        <div className=\"form-title\">Imagen de perfil</div>\n\n                                            <div className='form-group'>\n                                                <label htmlFor=\"name\">Imagen Principal</label>\n                                                \n                                            <div className=\"ProfileImageContainer\">\n                                                <img src={this.state.currentImage} alt=\"my prfile pic\" />\n                                            </div>\n\n                                                <input \n                                                    onChange={this.handleChange}\n                                                    name='productPicture'\n                                                    type='file'\n                                                    className='form-group'\n                                                    id='avatar'\n                                                />\n                                            </div>\n\n                                            <button\n                                                type='submit'\n                                                className='btn btn-toysland'\n                                                disabled={this.state.loading}\n                                            >\n                                                Guardar Cambios\n                                            </button>\n                                    </div>\n\n\n                                </form>\n                            </div>                        \n\n                            <div className=\"Edit\">\n                                <form onSubmit={this.handleSubmit}>\n\n                                <div className=\"form-container\">     \n\n                                    <div className=\"form-title\">Mi Producto</div>\n\n                                            <div className=\"form-group-info\">\n                                                <label htmlFor=\"name\">Nombre</label>\n\n                                                <input\n                                                    value={this.state.data.name}\n                                                    onChange={this.handleChange}\n                                                    autoComplete=\"off\"\n                                                    name=\"name\"\n                                                    type=\"text\"\n                                                    className='form-control'\n                                                    id=\"name\"\n                                                    placeholder=\"Nombre\"\n                                                />\n                                            </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"price\">Precio</label>\n\n                                    <input \n                                        value={this.state.data.price}\n                                        onChange={this.handleChange}\n                                        autoComplete=\"off\"\n                                        name=\"price\"\n                                        type=\"number\"\n                                        className={`form-control ${errorClassName}`}\n                                        id=\"price\"\n                                        placeholder=\"Price\"                       \n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                        <label htmlFor=\"description\">Descripción</label>\n\n                        <input \n                            value={this.state.data.description}\n                            onChange={this.handleChange}\n                            autoComplete=\"off\"\n                            name=\"description\"\n                            type=\"text\"\n                            className={`form-control ${errorClassName}`}\n                            id=\"description\"\n                            placeholder=\"Máx 140 caracteres\"                       \n                        />\n                    </div>\n\n                                            {/* <div className='form-group-info'>\n                                                <label htmlFor='cp'>cp</label>\n\n                                                <input \n                                                    value={this.state.data.cp}\n                                                    onChange={this.handleChange}\n                                                    autoComplete='off'\n                                                    name='cp'\n                                                    type='cp'\n                                                    className='form-control'\n                                                    id='cp'\n                                                    placeholder='cp'\n                                                />\n\n                                            </div>\n\n                                            <div className='form-group-info'>\n                                                <label htmlFor='city'>city</label>\n\n                                                <input \n                                                    value={this.state.data.city}\n                                                    onChange={this.handleChange}\n                                                    autoComplete='off'\n                                                    name='city'\n                                                    type='city'\n                                                    className='form-control'\n                                                    id='city'\n                                                    placeholder='city'\n                                                />\n\n                                            </div>\n\n                                            <div className='form-group-info'>\n                                                <label htmlFor='country'>country</label>\n\n                                                <input \n                                                    value={this.state.data.country}\n                                                    onChange={this.handleChange}\n                                                    autoComplete='off'\n                                                    name='country'\n                                                    type='country'\n                                                    className='form-control'\n                                                    id='country'\n                                                    placeholder='country'\n                                                />\n\n                                            </div> */}\n\n                                                <button\n                                                    type='submit'\n                                                    className='btn btn-toysland'\n                                                    disabled={this.state.loading}\n                                                >\n                                                    Guardar Cambios\n                                                </button>\n\n                                                \n                                            </div>{/* //Fin de form-container */}\n\n\n\n                                                </form>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    <div className=\"Space\"></div>\n                                </div>\n\n            )\n        }\n}\n\nexport default WithAuthConsumer(EditProduct)"]},"metadata":{},"sourceType":"module"}