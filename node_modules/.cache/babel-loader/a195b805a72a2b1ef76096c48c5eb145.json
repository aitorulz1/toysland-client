{"ast":null,"code":"import axios from 'axios';\nconst http = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:3001',\n  // Indicas el puesrto en el que está levantada la API\n  withCredentials: true\n});\nhttp.interceptors.response.use(response => response.data, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.clear();\n    window.location.assign('/login');\n  }\n\n  return Promise.reject(error);\n});\n\nconst login = ({\n  email,\n  password\n}) => http.post('/login', {\n  email,\n  password\n});\n\nconst search = search => http.get('/search', {\n  params: {\n    q: search\n  }\n});\n\nconst register = data => http.post('/register', data);\n\nconst logout = () => http.post('/logout');\n\nconst profile = (currentUser, id) => http.patch(`/users/${id}`, currentUser);\n\nconst getUser = id => http.get(`/users/${id}`);\n\nconst categories = () => http.get('/categories');\n\nconst product = product => http.post('/items/new', product);\n\nconst editProduct = (product, id) => http.patch(`/items/${id}`, product);\n\nconst getByCategory = category => http.get(`/categories/${category}`);\n\nconst getAll = () => http.get('/items');\n\nconst getThisProduct = id => http.get(`/items/${id}`);\n\nconst createLike = (id, product) => http.post(`/user/${id}/like/${product}`);\n\nconst showLikes = id => http.get(`/user/likes/${id}`);\n\nconst createChat = (id, idObj, product) => http.post(`/chats/user/${id}/${idObj}/${product}`);\n\nconst showChat = product => http.get(`/chats/${product}`);\n\nconst sendMessage = (id, idChat) => http.get(`/chats/${id}/${idChat}`);\n\nconst createMessage = (idChat, data) => http.post(`/messages/${idChat}`, data);\n\nconst findMessages = id => http.get('/messages${id}');\n\nexport default {\n  login,\n  search,\n  register,\n  logout,\n  getUser,\n  profile,\n  categories,\n  product,\n  editProduct,\n  getByCategory,\n  getAll,\n  getThisProduct,\n  createLike,\n  showLikes,\n  createChat,\n  showChat,\n  sendMessage,\n  createMessage,\n  findMessages\n};","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/services/ToyslandService.js"],"names":["axios","http","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","interceptors","response","use","data","error","status","localStorage","clear","window","location","assign","Promise","reject","login","email","password","post","search","get","params","q","register","logout","profile","currentUser","id","patch","getUser","categories","product","editProduct","getByCategory","category","getAll","getThisProduct","createLike","showLikes","createChat","idObj","showChat","sendMessage","idChat","createMessage","findMessages"],"mappings":"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","sourcesContent":["import axios from 'axios'\n \n\n\n\nconst http = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:3001', // Indicas el puesrto en el que está levantada la API\n  withCredentials: true\n})\n\nhttp.interceptors.response.use(\n  response => response.data,\n  error => {\n    if (error.response && error.response.status === 401) {\n      localStorage.clear()\n      window.location.assign('/login')\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nconst login = ({ email, password }) => http.post('/login', { email, password })\nconst search = (search) => http.get('/search', {params: { q: search }})\nconst register = (data) => http.post('/register', data)\nconst logout = () => http.post('/logout')\nconst profile = (currentUser, id) => http.patch(`/users/${id}`, currentUser)\nconst getUser = (id) => http.get(`/users/${id}`)\nconst categories = () => http.get('/categories');\nconst product = (product) => http.post('/items/new', product)\nconst editProduct = (product, id) => http.patch(`/items/${id}`, product)\nconst getByCategory = (category) => http.get(`/categories/${category}`)\nconst getAll = () => http.get('/items')\nconst getThisProduct = (id) => http.get(`/items/${id}`)\nconst createLike = (id, product) => http.post(`/user/${id}/like/${product}`)\nconst showLikes = (id) => http.get(`/user/likes/${id}`)\nconst createChat = (id, idObj, product) => http.post(`/chats/user/${id}/${idObj}/${product}`)\nconst showChat = (product) => http.get(`/chats/${product}`)\nconst sendMessage = (id, idChat) => http.get(`/chats/${id}/${idChat}`)\nconst createMessage = (idChat, data) => http.post(`/messages/${idChat}`, data)\nconst findMessages = (id) => http.get('/messages${id}')\n\n\n\n\nexport default {\n  login,\n  search,\n  register,\n  logout,\n  getUser,\n  profile,\n  categories,\n  product,\n  editProduct,\n  getByCategory,\n  getAll,\n  getThisProduct,\n  createLike,\n  showLikes,\n  createChat,\n  showChat,\n  sendMessage,\n  createMessage,\n  findMessages\n}"]},"metadata":{},"sourceType":"module"}