{"ast":null,"code":"import _classCallCheck from\"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{WithAuthConsumer}from'../context/AuthContext';import ToyslandService from'../../services/ToyslandService';import SingleCategoryCard from'./SingleCategoryCard';import Controls from'../src/Controls';var SingleCategory=/*#__PURE__*/function(_Component){_inherits(SingleCategory,_Component);function SingleCategory(){var _getPrototypeOf2;var _this;_classCallCheck(this,SingleCategory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SingleCategory)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={products:[]// Pinto un array de productos vacío\n};_this.onClickOrderByPrice=function(){_this.setState({products:_this.state.products.sort(function(a,b){return a.price-b.price;})});};_this.onClickOrderByExpensive=function(){_this.setState({products:_this.state.products.sort(function(a,b){return b.price-a.price;})});};_this.findProducts=function(){ToyslandService.getAll().then(function(products){// Cojo TODOS los productos\n_this.setState({products:products.filter(function(product){return product.category===_this.props.match.params.category;})});// Productos: coge los productos de la categoría que machean con la categoría de la url                    \n});};return _this;}_createClass(SingleCategory,[{key:\"componentDidMount\",value:function componentDidMount(){this.findProducts();}},{key:\"render\",value:function render(){// Aquí hago un map con this.state.products\nreturn React.createElement(\"div\",{className:\"CategoryContainer\"},React.createElement(\"div\",{className:\"ButtonArea\"},React.createElement(\"div\",{className:\"ButtonAreaContainer\"},React.createElement(Controls,{onClickDeleteProduct:this.onClickOrderByPrice,onClickOrderByExpensive:this.onClickOrderByExpensive,sortedBy:this.state.sortedBy}))),React.createElement(\"div\",{className:\"title-container\"},React.createElement(\"div\",{className:\"title-category\"},this.state.products.category),React.createElement(\"div\",{className:\"subtitle-category\"})),React.createElement(\"div\",{className:\"CategoryContainerContainer\"},this.state.products.length&&this.state.products.map(function(products,index){return React.createElement(SingleCategoryCard,Object.assign({},products,{key:index}));})));}}]);return SingleCategory;}(Component);export default WithAuthConsumer(SingleCategory);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleCategoryPage.js"],"names":["React","Component","WithAuthConsumer","ToyslandService","SingleCategoryCard","Controls","SingleCategory","state","products","onClickOrderByPrice","setState","sort","a","b","price","onClickOrderByExpensive","findProducts","getAll","then","filter","product","category","props","match","params","sortedBy","length","map","index"],"mappings":"kqBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,gBAAT,KAAiC,wBAAjC,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,C,GAIMC,CAAAA,c,+ZAEFC,K,CAAO,CACHC,QAAQ,CAAE,EAAG;AADV,C,OAIPC,mB,CAAsB,UAAM,CACxB,MAAKC,QAAL,CAAc,CACVF,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAAX,CAAoBG,IAApB,CAAyB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAtB,EAAzB,CADA,CAAd,EAIC,C,OAGLC,uB,CAA0B,UAAM,CAC5B,MAAKL,QAAL,CAAc,CACVF,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAAX,CAAoBG,IAApB,CAAyB,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAACC,KAAF,CAAUF,CAAC,CAACE,KAAtB,EAAzB,CADA,CAAd,EAIH,C,OAEDE,Y,CAAe,UAAM,CACjBb,eAAe,CAACc,MAAhB,GAAyBC,IAAzB,CAA8B,SAAAV,QAAQ,CAAI,CAAE;AACxC,MAAKE,QAAL,CAAc,CAACF,QAAQ,CAAEA,QAAQ,CAACW,MAAT,CAAgB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,QAAR,GAAqB,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAjD,EAAvB,CAAX,CAAd,EAA6G;AAChH,CAFD,EAGH,C,uGAEmB,CAChB,KAAKL,YAAL,GACH,C,uCAIQ,CAAE;AAEP,MAGI,4BAAK,SAAS,CAAC,mBAAf,EAEI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,qBAAf,EACA,oBAAC,QAAD,EACI,oBAAoB,CAAI,KAAKP,mBADjC,CAEI,uBAAuB,CAAI,KAAKM,uBAFpC,CAGI,QAAQ,CAAE,KAAKR,KAAL,CAAWkB,QAHzB,EADA,CADJ,CAFJ,CAYI,2BAAK,SAAS,CAAC,iBAAf,EACI,2BAAK,SAAS,CAAC,gBAAf,EAAiC,KAAKlB,KAAL,CAAWC,QAAX,CAAoBa,QAArD,CADJ,CAEI,2BAAK,SAAS,CAAC,mBAAf,EAFJ,CAZJ,CAiBQ,2BAAK,SAAS,CAAC,4BAAf,EACK,KAAKd,KAAL,CAAWC,QAAX,CAAoBkB,MAApB,EAA8B,KAAKnB,KAAL,CAAWC,QAAX,CAAoBmB,GAApB,CAAwB,SAACnB,QAAD,CAAWoB,KAAX,QACnD,qBAAC,kBAAD,kBAAwBpB,QAAxB,EAAkC,GAAG,CAAGoB,KAAxC,GADmD,EAAxB,CADnC,CAjBR,CAHJ,CA2BH,C,4BA9DwB3B,S,EAkE7B,cAAeC,CAAAA,gBAAgB,CAAEI,cAAF,CAA/B","sourcesContent":["import React, {Component} from 'react'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport ToyslandService from '../../services/ToyslandService'\nimport SingleCategoryCard from './SingleCategoryCard'\nimport Controls from '../src/Controls'\n\n\n\nclass SingleCategory extends Component {\n\n    state= {\n        products: [] // Pinto un array de productos vacío\n    }\n\n    onClickOrderByPrice = () => {\n        this.setState({\n            products: this.state.products.sort((a, b) => a.price - b.price) \n        })\n        \n        }\n\n\n    onClickOrderByExpensive = () => {\n        this.setState({\n            products: this.state.products.sort((a, b) => b.price - a.price) \n        })\n        \n    }\n\n    findProducts = () => {\n        ToyslandService.getAll().then(products => { // Cojo TODOS los productos\n            this.setState({products: products.filter(product => product.category === this.props.match.params.category)}) // Productos: coge los productos de la categoría que machean con la categoría de la url                    \n        })\n    }\n\n    componentDidMount() {\n        this.findProducts()\n    }\n\n\n\n    render() { // Aquí hago un map con this.state.products\n        \n        return(\n\n           \n            <div className=\"CategoryContainer\">\n\n                <div className=\"ButtonArea\">\n                    <div className=\"ButtonAreaContainer\">\n                    <Controls\n                        onClickDeleteProduct = {this.onClickOrderByPrice}\n                        onClickOrderByExpensive = {this.onClickOrderByExpensive}\n                        sortedBy={this.state.sortedBy}\n                    />\n                     </div>\n                </div>\n\n                <div className=\"title-container\">\n                    <div className=\"title-category\">{this.state.products.category}</div>\n                    <div className=\"subtitle-category\"></div>\n                </div>\n                \n                    <div className=\"CategoryContainerContainer\">\n                        {this.state.products.length && this.state.products.map((products, index) => (\n                            <SingleCategoryCard {...products} key= {index} />\n                        ))}             \n                    </div>\n            </div>\n        )\n    }\n        \n}\n\nexport default WithAuthConsumer (SingleCategory)"]},"metadata":{},"sourceType":"module"}