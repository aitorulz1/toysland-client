{"ast":null,"code":"var _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleCategoryPage.js\";\nimport React, { Component } from 'react';\nimport { WithAuthConsumer } from '../context/AuthContext';\nimport ToyslandService from '../../services/ToyslandService';\nimport SingleCategoryCard from './SingleCategoryCard';\nimport Controls from '../src/Controls';\n\nclass SingleCategory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [] // Pinto un array de productos vacío\n\n    };\n\n    this.onClickOrderByPrice = () => {\n      ToyslandService.getAll().then(products => {\n        this.setState({\n          products: products.sort((a, b) => a.price - b.price)\n        });\n      });\n    };\n\n    this.onClickOrderByDate = () => {\n      ToyslandService.getAll().then(products => {\n        this.setState({\n          products: products.sort((a, b) => a.createdAt - b.createdAt)\n        });\n      });\n    };\n\n    this.findProducts = () => {\n      ToyslandService.getAll().then(products => {\n        // Cojo TODOS los productos\n        this.setState({\n          products: products.filter(product => product.category === this.props.match.params.category)\n        }); // Productos: coge los productos de la categoría que machean con la categoría de la url                    \n      });\n    };\n  }\n\n  componentDidMount() {\n    this.findProducts();\n  }\n\n  render() {\n    // Aquí hago un map con this.state.products\n    return React.createElement(\"div\", {\n      className: \"CategoryContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ButtonArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ButtonAreaContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Controls, {\n      onClickDeleteProduct: products => this.onClickDeleteProduct(products),\n      onClickOrderByDate: this.onClickOrderByDate,\n      sortedBy: this.state.sortedBy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"title-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title-category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.state.products.category), React.createElement(\"div\", {\n      className: \"subtitle-category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"CategoryContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.products.length && this.state.products.map((products, index) => React.createElement(SingleCategoryCard, Object.assign({}, products, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default WithAuthConsumer(SingleCategory);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleCategoryPage.js"],"names":["React","Component","WithAuthConsumer","ToyslandService","SingleCategoryCard","Controls","SingleCategory","state","products","onClickOrderByPrice","getAll","then","setState","sort","a","b","price","onClickOrderByDate","createdAt","findProducts","filter","product","category","props","match","params","componentDidMount","render","onClickDeleteProduct","sortedBy","length","map","index"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,QAAP,MAAqB,iBAArB;;AAIA,MAAMC,cAAN,SAA6BL,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCM,KAFmC,GAE5B;AACHC,MAAAA,QAAQ,EAAE,EADP,CACU;;AADV,KAF4B;;AAAA,SAMnCC,mBANmC,GAMb,MAAM;AACxBN,MAAAA,eAAe,CAACO,MAAhB,GAAyBC,IAAzB,CAA8BH,QAAQ,IAAI;AAC1C,aAAKI,QAAL,CAAc;AACVJ,UAAAA,QAAQ,EAAEA,QAAQ,CAACK,IAAT,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAApC;AADA,SAAd;AAEG,OAHH;AAKE,KAZ6B;;AAAA,SAcnCC,kBAdmC,GAcd,MAAM;AACvBd,MAAAA,eAAe,CAACO,MAAhB,GAAyBC,IAAzB,CAA8BH,QAAQ,IAAI;AAC1C,aAAKI,QAAL,CAAc;AACVJ,UAAAA,QAAQ,EAAEA,QAAQ,CAACK,IAAT,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACI,SAAF,GAAcH,CAAC,CAACG,SAAxC;AADA,SAAd;AAEG,OAHH;AAKE,KApB6B;;AAAA,SAsBnCC,YAtBmC,GAsBpB,MAAM;AACjBhB,MAAAA,eAAe,CAACO,MAAhB,GAAyBC,IAAzB,CAA8BH,QAAQ,IAAI;AAAE;AACxC,aAAKI,QAAL,CAAc;AAACJ,UAAAA,QAAQ,EAAEA,QAAQ,CAACY,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,QAAR,KAAqB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAxE;AAAX,SAAd,EADsC,CACuE;AAChH,OAFD;AAGH,KA1BkC;AAAA;;AA4BnCI,EAAAA,iBAAiB,GAAG;AAChB,SAAKP,YAAL;AACH;;AAIDQ,EAAAA,MAAM,GAAG;AAAE;AAEP,WAGI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,QAAD;AACI,MAAA,oBAAoB,EAAKnB,QAAD,IAAc,KAAKoB,oBAAL,CAA0BpB,QAA1B,CAD1C;AAEI,MAAA,kBAAkB,EAAI,KAAKS,kBAF/B;AAGI,MAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWsB,QAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,CAFJ,EAYI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiC,KAAKtB,KAAL,CAAWC,QAAX,CAAoBc,QAArD,CADJ,EAEI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAZJ,EAiBQ;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKf,KAAL,CAAWC,QAAX,CAAoBsB,MAApB,IAA8B,KAAKvB,KAAL,CAAWC,QAAX,CAAoBuB,GAApB,CAAwB,CAACvB,QAAD,EAAWwB,KAAX,KACnD,oBAAC,kBAAD,oBAAwBxB,QAAxB;AAAkC,MAAA,GAAG,EAAGwB,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAD2B,CADnC,CAjBR,CAHJ;AA2BH;;AA/DkC;;AAmEvC,eAAe9B,gBAAgB,CAAEI,cAAF,CAA/B","sourcesContent":["import React, {Component} from 'react'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport ToyslandService from '../../services/ToyslandService'\nimport SingleCategoryCard from './SingleCategoryCard'\nimport Controls from '../src/Controls'\n\n\n\nclass SingleCategory extends Component {\n\n    state= {\n        products: [] // Pinto un array de productos vacío\n    }\n\n    onClickOrderByPrice = () => {\n        ToyslandService.getAll().then(products => {\n        this.setState({\n            products: products.sort((a, b) => a.price - b.price) \n        })}\n        \n        )}\n\n    onClickOrderByDate = () => {\n        ToyslandService.getAll().then(products => {\n        this.setState({\n            products: products.sort((a, b) => a.createdAt - b.createdAt) \n        })}\n        \n        )}\n\n    findProducts = () => {\n        ToyslandService.getAll().then(products => { // Cojo TODOS los productos\n            this.setState({products: products.filter(product => product.category === this.props.match.params.category)}) // Productos: coge los productos de la categoría que machean con la categoría de la url                    \n        })\n    }\n\n    componentDidMount() {\n        this.findProducts()\n    }\n\n\n\n    render() { // Aquí hago un map con this.state.products\n        \n        return(\n\n           \n            <div className=\"CategoryContainer\">\n\n                <div className=\"ButtonArea\">\n                    <div className=\"ButtonAreaContainer\">\n                    <Controls\n                        onClickDeleteProduct = {(products) => this.onClickDeleteProduct(products)}\n                        onClickOrderByDate = {this.onClickOrderByDate}\n                        sortedBy={this.state.sortedBy}\n                    />\n                     </div>\n                </div>\n\n                <div className=\"title-container\">\n                    <div className=\"title-category\">{this.state.products.category}</div>\n                    <div className=\"subtitle-category\"></div>\n                </div>\n                \n                    <div className=\"CategoryContainerContainer\">\n                        {this.state.products.length && this.state.products.map((products, index) => (\n                            <SingleCategoryCard {...products} key= {index} />\n                        ))}             \n                    </div>\n            </div>\n        )\n    }\n        \n}\n\nexport default WithAuthConsumer (SingleCategory)"]},"metadata":{},"sourceType":"module"}