{"ast":null,"code":"var _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleProduct.js\";\nimport React, { Component } from 'react';\nimport ToyslandService from '../../services/ToyslandService';\nimport { WithAuthConsumer } from '../context/AuthContext';\nimport { Link } from 'react-router-dom';\n\nclass SingleProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true,\n        error: false\n      }, () => ToyslandService.createLike(this.props.currentUser.id, this.state.product.id).then(like => {\n        // Siempre devuelve lo que devuelve el back\n        console.log(like);\n      }).catch(() => {\n        this.setState({\n          error: true,\n          loading: false\n        });\n      }));\n    };\n\n    this.handleChat = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true,\n        error: false\n      }, () => ToyslandService.createChat(this.props.currentUser.id, this.state.product.id).then(chat => {\n        console.log(chat);\n      }).chat(() => {\n        this.setState({\n          error: true,\n          loading: false\n        });\n      }));\n    };\n\n    this.state = {\n      product: {},\n      error: false,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    ToyslandService.getThisProduct(this.props.match.params.id).then(product => {\n      this.setState({\n        product\n      }, () => console.log(this.state.product));\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"SingleProductContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SingleProductContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Preheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Preheader-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.product.name), React.createElement(\"div\", {\n      className: \"Preheader-cat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/categories/${this.state.product.category}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.product.category), \" \")), React.createElement(\"div\", {\n      className: \"SingleProductContainerContainerContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"single-card-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-user-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.product.user && this.state.product.user.profilePicture,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user-username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.product.user && this.state.product.user.username)), React.createElement(\"div\", {\n      className: \"buttons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleChat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"button-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: ``,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Chat\"))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"button-lovit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Like\")))))), React.createElement(\"div\", {\n      className: \"single-card-image-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.product.productPicture,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"card-data-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"single-card-price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.product.price, \"\\u20AC\"), React.createElement(\"div\", {\n      className: \"single-card-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.product.name), React.createElement(\"div\", {\n      className: \"single-card-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.product.description), React.createElement(\"div\", {\n      className: \"single-card-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.product.createdAt))))));\n  }\n\n}\n\nexport default WithAuthConsumer(SingleProduct);","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/SingleProduct.js"],"names":["React","Component","ToyslandService","WithAuthConsumer","Link","SingleProduct","constructor","props","handleSubmit","event","preventDefault","setState","loading","error","createLike","currentUser","id","state","product","then","like","console","log","catch","handleChat","createChat","chat","componentDidMount","getThisProduct","match","params","render","name","category","user","profilePicture","username","productPicture","price","description","createdAt"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport ToyslandService from '../../services/ToyslandService'\nimport { WithAuthConsumer } from '../context/AuthContext'\nimport { Link } from 'react-router-dom'\n\n\nclass SingleProduct extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            product: {},\n            error: false,\n            loading: false,\n        }\n    }\n\n    componentDidMount() { \n        ToyslandService.getThisProduct(this.props.match.params.id)\n            .then(product => {\n                this.setState({product}, () => console.log(this.state.product))\n            })\n    }\n\n\n    handleSubmit = (event) => {\n        event.preventDefault() \n\n        this.setState({loading: true, error: false}, () =>\n            ToyslandService.createLike(this.props.currentUser.id, this.state.product.id)\n                .then((like) => { // Siempre devuelve lo que devuelve el back\n                    console.log(like)\n                })\n                .catch(() => {\n                    this.setState({error: true, loading: false})\n                })\n        )\n    }\n\n    handleChat = (event) => {\n        event.preventDefault()\n\n        this.setState({loading: true, error: false}, () =>\n            ToyslandService.createChat(this.props.currentUser.id, this.state.product.id)\n                .then((chat) => {\n                    console.log(chat)\n                })\n                .chat(() => {\n                    this.setState({error: true, loading: false})\n                })\n        )\n    }\n    \n\n    render() {    \n        return(\n    \n            \n    <div className=\"SingleProductContainer\">\n        <div className=\"SingleProductContainerContainer\">\n\n            <div className=\"Preheader\">\n                <div className=\"Preheader-title\">{this.state.product.name}</div>\n                <div className=\"Preheader-cat\"><Link to={`/categories/${this.state.product.category}`}>{this.state.product.category}</Link> </div>\n            </div>\n\n            <div className=\"SingleProductContainerContainerContainer\">\n\n                <div className=\"single-card-image\">\n                    <div className=\"header-container\">\n                        <div className=\"header-user-container\">\n                            <div className=\"user-pic\"><img src={this.state.product.user && this.state.product.user.profilePicture} alt=\"\" /></div>\n                            <div className=\"user-username\">{this.state.product.user && this.state.product.user.username}</div>\n                            \n                        </div>\n\n                        <div className=\"buttons-container\"> \n\n                                <div>\n                                    <form onSubmit={this.handleChat}>\n                                        <div className=\"button-message\">\n                                            <button type=\"submit\">\n                                                <Link to={``}>\n                                                    Chat\n                                                </Link>\n                                            </button>\n                                        </div>\n                                    </form>\n                                </div>\n        \n                                <div>\n                                    <form onSubmit={this.handleSubmit}>\n                                        <div className=\"button-lovit\">\n                                            <button type=\"submit\">\n                                                Like\n                                            </button>\n                                        </div>  \n                                    </form>\n                                </div>   \n                        \n                        </div>\n                    </div>\n                    <div className=\"single-card-image-container\">\n                        <img src={this.state.product.productPicture} alt=\"\" />\n                    </div>\n                    <div className=\"card-data-container\">\n                        <div className=\"single-card-price\">{this.state.product.price}â‚¬</div>\n                        <div className=\"single-card-name\">{this.state.product.name}</div>\n                        <div className=\"single-card-description\">{this.state.product.description}</div>                                  \n                        <div className=\"single-card-date\">{this.state.product.createdAt}</div>                                  \n                    </div>\n                </div>\n            \n            </div>\n        </div>\n    </div>\n        )\n    }\n\n\n\n}\n\nexport default WithAuthConsumer (SingleProduct)"]},"metadata":{},"sourceType":"module"}