{"ast":null,"code":"import _objectSpread from \"/Users/mac/ironhack/lab/module_III/toysland/front/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/UpProduct.js\";\nimport React, { Component } from 'react';\nimport ToyslandService from '../../services/ToyslandService';\nimport { Link, Redirect } from 'react-router-dom';\nimport { WithAuthConsumer } from '../context/AuthContext';\n\nclass UpProduct extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        category: '',\n        name: '',\n        price: Number,\n        coin: '',\n        description: '',\n        productPicture: null\n      },\n      error: false,\n      loading: false,\n      success: false\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value,\n            files = _event$target.files;\n      this.setState({\n        data: _objectSpread({}, this.state.data, {\n          [name]: files ? files[0] : value\n        })\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const formData = new FormData();\n      formData.append('profilePicture', this.state.data.product);\n      this.setState({\n        loading: true,\n        error: false\n      }, () => {\n        ToyslandService.product(formData, this.props.product.id).then(product => {\n          this.props.setUser(product);\n          this.setState({\n            success: true\n          });\n        }).catch(error => {\n          this.setState({\n            error: true,\n            loading: false\n          });\n        });\n      });\n    };\n\n    this.componentDidMount = () => {\n      ToyslandService.categories().then(categories => {\n        this.setState({\n          categories: categories\n        });\n      });\n    };\n  }\n\n  render() {\n    if (this.state.success) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n    }\n\n    console.log(this.state.categories);\n    return React.createElement(\"div\", {\n      className: \"Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      id: \"category\",\n      name: \"category\",\n      form: \"carform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.categories.map(e => {\n      React.createElement(\"option\", {\n        value: this.state.data.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"vintage\");\n    }), React.createElement(\"option\", {\n      value: this.state.data.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"vintage\"), React.createElement(\"option\", {\n      value: \"consolas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"consolas\"), React.createElement(\"option\", {\n      value: \"libros\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"libros\"), React.createElement(\"option\", {\n      value: \"comics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"comics\"), React.createElement(\"option\", {\n      value: \"mesa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"mesa\"), React.createElement(\"option\", {\n      value: \"discraces\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"discraces\"), React.createElement(\"option\", {\n      value: \"construccion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"construccion\"), React.createElement(\"option\", {\n      value: \"puzzles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"puzzles\"), React.createElement(\"option\", {\n      value: \"peluches\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"peluches\"), React.createElement(\"option\", {\n      value: \"aire-libre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"aire libre\"), React.createElement(\"option\", {\n      value: \"teledirigido\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"teledirigido\"), React.createElement(\"option\", {\n      value: \"transporte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"transporte\"), React.createElement(\"option\", {\n      value: \"playas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"playas\"), React.createElement(\"option\", {\n      value: \"pelotas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"pelotas\")))));\n  }\n\n}\n\nexport default UpProduct;","map":{"version":3,"sources":["/Users/mac/ironhack/lab/module_III/toysland/front/src/components/misc/UpProduct.js"],"names":["React","Component","ToyslandService","Link","Redirect","WithAuthConsumer","UpProduct","state","data","category","name","price","Number","coin","description","productPicture","error","loading","success","handleChange","event","target","value","files","setState","handleSubmit","preventDefault","formData","FormData","append","product","props","id","then","setUser","catch","componentDidMount","categories","render","console","log","map","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ToyslandService from '../../services/ToyslandService'\nimport { Link, Redirect } from 'react-router-dom'\nimport { WithAuthConsumer } from '../context/AuthContext'\n\nclass UpProduct extends Component {\n\n    state = {\n        data: {\n            category: '',\n            name: '',\n            price: Number,\n            coin: '',\n            description: '',\n            productPicture: null\n        },\n        error: false,\n        loading: false,\n        success: false\n    }\n\n    handleChange = (event) => {\n        const {name, value, files} = event.target\n\n        this.setState({\n            data: {\n                ...this.state.data,\n                [name] : files ? files[0] : value\n            }\n        })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault()\n\n        const formData = new FormData()\n            formData.append('profilePicture',this.state.data.product)\n\n        this.setState({loading: true, error: false}, () => {\n            ToyslandService.product(formData, this.props.product.id)\n                .then((product) => {\n                    this.props.setUser(product)\n                    this.setState({success: true})\n                })\n                .catch(error => {\n                    this.setState({ error: true, loading: false })\n                })\n            })\n    }\n    componentDidMount = () => {\n                ToyslandService.categories().then(categories => {\n            this.setState({\n                categories: categories\n            })\n        })\n    }\n    render() {\n        if(this.state.success) {\n            return <Redirect to='/' />\n        }\n\n        console.log(this.state.categories)\n        return (\n            <div className=\"Register\">\n                <form onSubmit={this.handleSubmit}>\n\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"category\"></label>\n\n                        <select id=\"category\" name=\"category\" form=\"carform\">\n                            {this.state.categories.map(e => {\n                                                          <option value={this.state.data.name}>vintage</option>\n\n                            })}\n                            <option value={this.state.data.name}>vintage</option>\n                            <option value=\"consolas\">consolas</option>\n                            <option value=\"libros\">libros</option>\n                            <option value=\"comics\">comics</option>\n                            <option value=\"mesa\">mesa</option>\n                            <option value=\"discraces\">discraces</option>\n                            <option value=\"construccion\">construccion</option>\n                            <option value=\"puzzles\">puzzles</option>\n                            <option value=\"peluches\">peluches</option>\n                            <option value=\"aire-libre\">aire libre</option>\n                            <option value=\"teledirigido\">teledirigido</option>\n                            <option value=\"transporte\">transporte</option>\n                            <option value=\"playas\">playas</option>\n                            <option value=\"pelotas\">pelotas</option>\n                        </select>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default UpProduct\n"]},"metadata":{},"sourceType":"module"}